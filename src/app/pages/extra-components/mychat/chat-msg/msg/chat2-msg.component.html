<div class="avatar" [style.background-image]="avatarStyle" [style.visibility]="withAvatar?'unset':'hidden'">
    <ng-container *ngIf="!avatarStyle">
        {{ getInitials() }}
    </ng-container>
</div>
<div class="message" [class.reply]="reply">
    <ng-container [ngSwitch]="type">

        <chat2-msg-file *ngSwitchCase="'file'"
                        [sender]="sender" [date]="date" [message]="message" [files]="files">
        </chat2-msg-file>
        <chat2-msg-quote *ngSwitchCase="'quote'"
                         [sender]="sender" [date]="date" [message]="message" [quote]="quote">
        </chat2-msg-quote>
        <chat2-msg-link *ngSwitchCase="'link'"
                        [sender]="sender" [date]="date" [message]="message"
                        [quote]="quote" [link]="link">
        </chat2-msg-link>
        <chat2-msg-btn *ngSwitchCase="'btn'"
                       [sender]="sender" [date]="date" [message]="message"
                       [quote]="quote" [link]="link" [view]="{form: dom}" [options]="options" [service]="service">
        </chat2-msg-btn>
        <nb-chat-message-map *ngSwitchCase="'map'"
                             [sender]="sender" [date]="date"
                             [message]="message" [latitude]="latitude" [longitude]="longitude">
        </nb-chat-message-map>
        <chat2-msg-text *ngSwitchDefault
                        [sender]="sender" [date]="date" [message]="message">
        </chat2-msg-text>
    </ng-container>
</div>
